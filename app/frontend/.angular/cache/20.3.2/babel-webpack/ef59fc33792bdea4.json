{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst _c0 = [\"c\"];\nexport let StarfieldComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class StarfieldComponent {\n    constructor() {\n      this.enabled = true;\n      this.density = 120;\n      this.raf = 0;\n      this.stars = [];\n      this.resize = () => {};\n      this.dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));\n    }\n    ngAfterViewInit() {\n      this.init();\n    }\n    init() {\n      if (!this.enabled || !this.canvas) return;\n      const c = this.canvas.nativeElement;\n      const ctx = c.getContext('2d');\n      this.ctx = ctx;\n      const onResize = () => {\n        const w = window.innerWidth;\n        const h = window.innerHeight;\n        c.width = Math.floor(w * this.dpr);\n        c.height = Math.floor(h * this.dpr);\n        c.style.width = w + 'px';\n        c.style.height = h + 'px';\n        ctx.setTransform(this.dpr, 0, 0, this.dpr, 0, 0);\n      };\n      onResize();\n      window.addEventListener('resize', onResize);\n      this.resize = onResize;\n      const n = Math.max(40, Math.min(600, Math.floor(this.density)));\n      this.stars = Array.from({\n        length: n\n      }).map(() => ({\n        x: Math.random() * (c.width / this.dpr),\n        y: Math.random() * (c.height / this.dpr),\n        r: Math.random() * 1.2 + 0.3,\n        tw: Math.random() * Math.PI * 2\n      }));\n      const loop = () => {\n        if (!this.ctx) return;\n        ctx.clearRect(0, 0, c.width, c.height);\n        for (const s of this.stars) {\n          s.tw += 0.02;\n          const a = 0.6 + Math.sin(s.tw) * 0.4;\n          ctx.fillStyle = `rgba(255,255,255,${a})`;\n          ctx.beginPath();\n          ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);\n          ctx.fill();\n        }\n        this.raf = requestAnimationFrame(loop);\n      };\n      this.raf = requestAnimationFrame(loop);\n    }\n    ngOnDestroy() {\n      cancelAnimationFrame(this.raf);\n      window.removeEventListener('resize', this.resize);\n      this.ctx = undefined;\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function StarfieldComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || StarfieldComponent)();\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: StarfieldComponent,\n      selectors: [[\"app-starfield\"]],\n      viewQuery: function StarfieldComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.canvas = _t.first);\n        }\n      },\n      inputs: {\n        enabled: \"enabled\",\n        density: \"density\"\n      },\n      decls: 2,\n      vars: 0,\n      consts: [[\"c\", \"\"], [1, \"fixed\", \"inset-0\", \"pointer-events-none\"]],\n      template: function StarfieldComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵdomElement(0, \"canvas\", 1, 0);\n        }\n      },\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return StarfieldComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}