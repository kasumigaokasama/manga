{"ast":null,"code":"import _asyncToGenerator from \"C:/manga/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/burst.service\";\nimport * as i4 from \"../services/toast.service\";\nimport * as i5 from \"@angular/forms\";\nexport let LoginPage = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class LoginPage {\n    constructor(api, router, bursts, toast) {\n      this.api = api;\n      this.router = router;\n      this.bursts = bursts;\n      this.toast = toast;\n      this.email = 'admin@example.com';\n      this.password = 'ChangeThis123!';\n    }\n    submit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          yield _this.api.login(_this.email, _this.password);\n          _this.bursts.trigger(24);\n          _this.toast.show('Erfolgreich angemeldet', 'success');\n          _this.router.navigateByUrl('/library');\n        } catch {\n          _this.toast.show('Login fehlgeschlagen', 'error');\n        }\n      })();\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function LoginPage_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || LoginPage)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.BurstService), i0.ɵɵdirectiveInject(i4.ToastService));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginPage,\n      selectors: [[\"app-login\"]],\n      decls: 9,\n      vars: 2,\n      consts: [[\"f\", \"ngForm\"], [1, \"max-w-sm\", \"mx-auto\", \"mt-10\", \"card\"], [1, \"text-lg\", \"font-bold\", \"mb-2\"], [1, \"space-y-3\", 3, \"ngSubmit\"], [\"name\", \"email\", \"placeholder\", \"E-Mail\", \"required\", \"\", 1, \"w-full\", \"border\", \"p-2\", \"rounded\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"password\", \"placeholder\", \"Passwort\", \"type\", \"password\", \"required\", \"\", 1, \"w-full\", \"border\", \"p-2\", \"rounded\", 3, \"ngModelChange\", \"ngModel\"], [1, \"w-full\", \"bg-kurenai\", \"text-white\", \"p-2\", \"rounded\"]],\n      template: function LoginPage_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"h1\", 2);\n          i0.ɵɵtext(2, \"Anmelden\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 3, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginPage_Template_form_ngSubmit_3_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.submit());\n          });\n          i0.ɵɵelementStart(5, \"input\", 4);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginPage_Template_input_ngModelChange_5_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.email, $event) || (ctx.email = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"input\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginPage_Template_input_ngModelChange_6_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.password, $event) || (ctx.password = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 6);\n          i0.ɵɵtext(8, \"Login\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.email);\n          i0.ɵɵadvance();\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.password);\n        }\n      },\n      dependencies: [FormsModule, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return LoginPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}