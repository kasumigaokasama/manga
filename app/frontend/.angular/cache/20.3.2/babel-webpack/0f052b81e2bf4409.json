{"ast":null,"code":"import { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApiService } from './services/api.service';\nexport const authGuard = () => {\n  const api = inject(ApiService);\n  const router = inject(Router);\n  if (!api.token()) {\n    router.navigateByUrl('/login');\n    return false;\n  }\n  return true;\n};\nexport function roleGuard(roles) {\n  return () => {\n    const api = inject(ApiService);\n    const router = inject(Router);\n    const r = api.role();\n    if (r === 'none' || !roles.includes(r)) {\n      router.navigateByUrl('/library');\n      return false;\n    }\n    return true;\n  };\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}